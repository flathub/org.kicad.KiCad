name: python3-wxPython
buildsystem: simple
build-commands: []
modules:
  - name: patchelf
    cleanup:
      - /bin
      - /share
    sources:
      - type: git
        url: https://github.com/NixOS/patchelf
        commit: 99c24238981b7b1084313aca8f5c493bb46f302c
        tag: 0.18.0
        x-checker-data:
          type: git
          tag-pattern: ^([\d\.]+)$

  - name: openblas
    no-autogen: true
    make-args:
      - DYNAMIC_ARCH=1
      - FC=gfortran
      - NO-LAPACKE=1
      - USE_OPENMP=0
    make-install-args:
      - PREFIX=/app
    cleanup:
      - /bin
      - /include
      - /lib/cmake
      - /lib/*.a
      - /lib/*.la
      - /lib/pkgconfig
      - /share/man
    sources:
      - type: git
        url: https://github.com/OpenMathLib/OpenBLAS
        tag: v0.3.30
        commit: 993fad6aebbce34a97d3f8c34d6d79d35b64cc48
        x-checker-data:
          type: git
          tag-pattern: ^(v[\d\.]+)$

  - name: python3-build-dependencies
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} meson_python packaging pyproject_metadata
        --no-build-isolation
    cleanup:
      - /lib
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/28/58/66db620a8a7ccb32633de9f403fe49f1b63c68ca94e5c340ec5cceeb9821/meson_python-0.18.0-py3-none-any.whl
        sha256: 3b0fe051551cc238f5febb873247c0949cd60ded556efa130aa57021804868e2
        x-checker-data:
          type: pypi
          packagetype: bdist_wheel
          name: meson-python
      - type: file
        url: https://files.pythonhosted.org/packages/20/12/38679034af332785aac8774540895e234f4d07f7545804097de4b666afd8/packaging-25.0-py3-none-any.whl
        sha256: 29572ef2b1f17581046b3a2227d5c611fb25ec70ca1ba8554b24b0e69331a484
        x-checker-data:
          name: packaging
          packagetype: bdist_wheel
          type: pypi
      - type: file
        url: https://files.pythonhosted.org/packages/c0/57/e69a1de45ec7a99a707e9f1a5defa035a48de0cae2d8582451c72d2db456/pyproject_metadata-0.10.0-py3-none-any.whl
        sha256: b1e439a9f7560f9792ee5975dcf5e89d2510b1fc84a922d7e5d665aa9102d966
        x-checker-data:
          name: pyproject-metadata
          packagetype: bdist_wheel
          type: pypi

  - name: python3-numpy
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} numpy --no-build-isolation
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/76/65/21b3bc86aac7b8f2862db1e808f1ea22b028e30a225a34a5ede9bf8678f2/numpy-2.3.5.tar.gz
        sha256: 784db1dcdab56bf0517743e746dfb0f885fc68d948aba86eeec2cba234bdf1c0
        x-checker-data:
          type: pypi
          name: numpy

  - name: python3-wxPython
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} wxPython --no-build-isolation
    build-options:
      env:
        WXPYTHON_BUILD_ARGS: --use_syswx --nodoc
    cleanup:
      - /bin
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/80/6e/b70e6dbdd7cb4f154b7ca424b4c7799f7b067f7a9f4204b8d16d6464648f/wxpython-4.2.4.tar.gz
        sha256: 2eb123979c87bcb329e8a2452269d60ff8f9f651e9bf25c67579e53c4ebbae3c
        x-checker-data:
          is-important: true
          type: pypi
          name: wxPython
