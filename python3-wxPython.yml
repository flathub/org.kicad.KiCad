name: python3-wxPython
buildsystem: simple
build-commands: []
modules:
  - name: patchelf
    cleanup:
      - /bin
    sources:
      - type: git
        url: https://github.com/NixOS/patchelf
        commit: 99c24238981b7b1084313aca8f5c493bb46f302c
        tag: 0.18.0
        x-checker-data:
          type: git
          tag-pattern: ^([\d\.]+)$

  - name: openblas
    no-autogen: true
    make-args:
      - DYNAMIC_ARCH=1
      - FC=gfortran
      - NO-LAPACKE=1
      - USE_OPENMP=0
    make-install-args:
      - PREFIX=/app
    cleanup:
      - /include
    sources:
      - type: git
        url: https://github.com/OpenMathLib/OpenBLAS
        tag: v0.3.24
        commit: 9f815cf1bf16b4e64d4aee681b33558fc090b62a
        x-checker-data:
          type: git
          tag-pattern: ^(v[\d\.]+)$

  - name: python3-build-dependencies
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} attrdict3 packaging pyproject_metadata --no-build-isolation
    cleanup:
      - /lib
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/d7/3c/a7d33166f92b50ca0e154411c351430700c21d8115b93c515ae9137a91f6/attrdict3-2.0.2-py2.py3-none-any.whl
        sha256: a98b72de6a3f20b0997cc7efbba3555af6558ed9a97de4468a3f81cac11595dc
        x-checker-data:
          type: pypi
          packagetype: bdist_wheel
          name: attrdict3
      - type: file
        url: https://files.pythonhosted.org/packages/ab/c3/57f0601a2d4fe15de7a553c00adbc901425661bf048f2a22dfc500caf121/packaging-23.1-py3-none-any.whl
        sha256: 994793af429502c4ea2ebf6bf664629d07c1a9fe974af92966e4b8d2df7edc61
        x-checker-data:
          name: packaging
          packagetype: bdist_wheel
          type: pypi
      - type: file
        url: https://files.pythonhosted.org/packages/c4/cb/4678dfd70cd2f2d8969e571cdc1bb1e9293c698f8d1cf428fadcf48d6e9f/pyproject_metadata-0.7.1-py3-none-any.whl
        sha256: 28691fbb36266a819ec56c9fa1ecaf36f879d6944dfde5411e87fc4ff793aa60
        x-checker-data:
          name: pyproject-metadata
          packagetype: bdist_wheel
          type: pypi

  - name: python3-numpy
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} numpy --no-build-isolation
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/55/b3/b13bce39ba82b7398c06d10446f5ffd5c07db39b09bd37370dc720c7951c/numpy-1.26.0.tar.gz
        sha256: f93fc78fe8bf15afe2b8d6b6499f1c73953169fad1e9a8dd086cdff3190e7fdf
        x-checker-data:
          type: pypi
          name: numpy

  - name: python3-wxPython
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} wxPython --no-build-isolation
    build-options:
      env:
        WXPYTHON_BUILD_ARGS: --use_syswx --nodoc
    cleanup:
      - /bin
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/00/d5/4903f310765e0ff2b8e91ffe55031ac6af77d982f0156061e20a4d1a8b2d/Pillow-9.5.0.tar.gz
        sha256: bf548479d336726d7a0eceb6e767e179fbde37833ae42794602631a070d630f1
        x-checker-data:
          type: pypi
          name: Pillow
          versions:
            <: '10'
      - type: file
        url: https://files.pythonhosted.org/packages/aa/64/d749e767a8ce7bdc3d533334e03bb1106fc4e4803d16f931fada9007ee13/wxPython-4.2.1.tar.gz
        sha256: e48de211a6606bf072ec3fa778771d6b746c00b7f4b970eb58728ddf56d13d5c
        x-checker-data:
          type: pypi
          name: wxPython
