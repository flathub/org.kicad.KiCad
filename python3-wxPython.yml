name: python3-wxPython
buildsystem: simple
build-commands: []
modules:
  - name: python3-wxPython
    buildsystem: simple
    build-commands:
  # Patch wxPython-4.1.1 to build with wxWidgets-3.1.5
      - tar xf wxPython-4.1.1.tar.gz
      - rm wxPython-4.1.1.tar.gz
      - patch -p0 <fix-wxpython-4.1.1-on-wxwidgets-3.1.5.patch
      - tar czf wxPython-4.1.1.tar.gz wxPython-4.1.1
  # Now install the modules
      - pip3 install --verbose --exists-action=i --no-index --no-build-isolation --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} "wxPython"
    build-options:
      env:
        WXPYTHON_BUILD_ARGS: --use_syswx
    cleanup:
      - /bin
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/03/c6/14a17e10813b8db20d1e800ff9a3a898e65d25f2b0e9d6a94616f1e3362c/numpy-1.23.0.tar.gz
        sha256: bd3fa4fe2e38533d5336e1272fc4e765cabbbde144309ccee8675509d5cd7b05
        x-checker-data:
          type: pypi
          name: numpy
      - type: file
        url: https://files.pythonhosted.org/packages/43/6e/59853546226ee6200f9ba6e574d11604b60ad0754d2cbd1c8f3246b70418/Pillow-9.1.1.tar.gz
        sha256: 7502539939b53d7565f3d11d87c78e7ec900d3c72945d4ee0e2f250d598309a0
        x-checker-data:
          type: pypi
          name: Pillow
      - type: file
        url: https://files.pythonhosted.org/packages/b0/4d/80d65c37ee60a479d338d27a2895fb15bbba27a3e6bb5b6d72bb28246e99/wxPython-4.1.1.tar.gz
        sha256: 00e5e3180ac7f2852f342ad341d57c44e7e4326de0b550b9a5c4a8361b6c3528
        x-checker-data:
          type: pypi
          name: wxPython
      - type: file
        path: patches/fix-wxpython-4.1.1-on-wxwidgets-3.1.5.patch
