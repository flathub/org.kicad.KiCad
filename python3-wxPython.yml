name: python3-wxPython
buildsystem: simple
build-commands: []
modules:
  - name: patchelf
    cleanup:
      - /bin
      - /share
    sources:
      - type: git
        url: https://github.com/NixOS/patchelf
        commit: 99c24238981b7b1084313aca8f5c493bb46f302c
        tag: 0.18.0
        x-checker-data:
          type: git
          tag-pattern: ^([\d\.]+)$

  - name: openblas
    no-autogen: true
    make-args:
      - DYNAMIC_ARCH=1
      - FC=gfortran
      - NO-LAPACKE=1
      - USE_OPENMP=0
    make-install-args:
      - PREFIX=/app
    cleanup:
      - /bin
      - /include
      - /lib/cmake
      - /lib/*.a
      - /lib/*.la
      - /lib/pkgconfig
      - /share/man
    sources:
      - type: git
        url: https://github.com/OpenMathLib/OpenBLAS
        tag: v0.3.31
        commit: 76f1be470c9b9f80dc6e27407e13b975df436489
        x-checker-data:
          type: git
          tag-pattern: ^(v[\d\.]+)$

  - name: python3-build-dependencies
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} meson_python packaging pyproject_metadata --no-build-isolation
    cleanup:
      - /lib
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/16/7f/d1b0c65b267a1463d752b324f11d3470e30889daefc4b9ec83029bfa30b5/meson_python-0.19.0-py3-none-any.whl
        sha256: 67b5906c37404396d23c195e12c8825506074460d4a2e7083266b845d14f0298
        x-checker-data:
          type: pypi
          packagetype: bdist_wheel
          name: meson-python
      - type: file
        url: https://files.pythonhosted.org/packages/b7/b9/c538f279a4e237a006a2c98387d081e9eb060d203d8ed34467cc0f0b9b53/packaging-26.0-py3-none-any.whl
        sha256: b36f1fef9334a5588b4166f8bcd26a14e521f2b55e6b9de3aaa80d3ff7a37529
        x-checker-data:
          name: packaging
          packagetype: bdist_wheel
          type: pypi
      - type: file
        url: https://files.pythonhosted.org/packages/1d/0b/da4851b1e2d9c40c9bd74c0abd94510a7d797da9ccde0a90e8953751ed4a/pyproject_metadata-0.11.0-py3-none-any.whl
        sha256: 85bbecca8694e2c00f63b492c96921d6c228454057c88e7c352b2077fcaa4096
        x-checker-data:
          name: pyproject-metadata
          packagetype: bdist_wheel
          type: pypi

  - name: python3-numpy
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} numpy --no-build-isolation
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/57/fd/0005efbd0af48e55eb3c7208af93f2862d4b1a56cd78e84309a2d959208d/numpy-2.4.2.tar.gz
        sha256: 659a6107e31a83c4e33f763942275fd278b21d095094044eb35569e86a21ddae
        x-checker-data:
          type: pypi
          name: numpy

  - name: python3-wxPython
    buildsystem: simple
    build-commands:
      - pip3 install --verbose --exists-action=i --no-index --find-links="file://${PWD}"
        --prefix=${FLATPAK_DEST} wxPython --no-build-isolation
    build-options:
      env:
        WXPYTHON_BUILD_ARGS: --use_syswx --nodoc
    cleanup:
      - /bin
    sources:
      - type: file
        url: https://files.pythonhosted.org/packages/22/43/81657a6b126ffc19163500a8184d683cec08eb4e1d06905cd0c371c702d0/wxpython-4.2.5.tar.gz
        sha256: 44e836d1bccd99c38790bb034b6ecf70d9060f6734320560f7c4b0d006144793
        x-checker-data:
          is-important: true
          type: pypi
          name: wxPython
